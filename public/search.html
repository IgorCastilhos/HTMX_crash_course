<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <script src="https://unpkg.com/htmx.org@1.9.11"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <title>HTMX Crash Course</title>
</head>
<body class="bg-blue-500">
<div class="container mx-auto py-8 max-w-lg">
    <span class="htmx-indicator" id="loading">
      <img src="img/loader.gif" alt="Loading..." class="m-auto h-10"/>
    </span>
  <div class="bg-gray-900 text-white p-4 border border-gray600 rounded-lg max-w-lg m-auto">
    <h3 class="text-2xl mb-3 text-center">Buscar contatos</h3>
    <input class="border border-gray600 bg-gray-800 p-2 rounded-lg w-full mb-5"
           type="search"
           name="search"
           placeholder="Digite o nome do contato"
           hx-post="/search/api"
           hx-trigger="input changed delay:500ms, search"
           hx-target="#search-results"
           hx-indicator="#loading"
    />
    <table class="min-w-full divide-y divide-gray-200">
      <thead class="bg-gray-800 text-white">
      <tr>
        <th
                scope="col"
                class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"
        >
          Nome
        </th>
        <th
                scope="col"
                class="px-6 py-3 text-left text-xs font-medium uppercase tracking-wider"
        >
          E-mail
        </th>
      </tr>
      </thead>
      <tbody id="search-results" class="divide-y divide-gray-600">

      </tbody>
    </table>
  </div>
</div>

<script src="../server" type="module"></script>
</div>
</body>
</html>
